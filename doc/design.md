# 项目体系结构设计

### 总述
网络抓取层从网站抓取数据，文件读取层从文件获取所需数据，之后由业务层进行信息整合与处理，期间可以使用工具类方法或者对数据进行持久化，最后将合适的接口暴露在\_\_init\_\_.py中。

### 网络抓取-data.py
数据来源：  
* [12306网站](https://kyfw.12306.cn)
* [中国铁路地图](http://cnrail.geogv.org/zhcn)
* [火车票网](http://www.huochepiao.com)

从网站抓取数据，函数输入为http请求需要的参数，输出为python内建的数据类型（列表、字典……），尽可能地返回数据，供业务层选择性使用。

### 文件读取-file.py
数据来源：  
* [station_data.xlsx](https://zhuanlan.zhihu.com/p/25497919)

读取文件中的数据，作为类成员变量，可使用函数访问获取需要的数据。

### 工具方法-utils.py
主要工具方法类别：  
* 检验正确性
* 构建持久化实例
* 数学计算
* 数据格式转换

### 数据存储-models.py
peewee持久化模型，用于完成数据库操作

### 业务逻辑-api.py
对外暴露的高层接口，同时负责处理所有业务逻辑

### 其他
* CreateDB.py: 创建SQLlite数据库
* ImportData.py: 使用网络数据和本地文件初始化数据库
* exception.py: 异常类